# Проектная работа по ETL и автоматизации подготовки данных

Система магазина продолжает развиваться: команда разработки добавила функционал отмены заказов и возврата средств (refunded). Значит, процессы в пайплайне нужно обновить.

Новые инкременты с информацией о продажах приходят по API, спецификация к которому лежит ниже, и содержат статус заказа (shipped/refunded).
## Этап 1
### Спецификация API
POST /generate_report
Метод /generate_report инициализирует формирование отчёта. В заголовке запроса нужно указать:
GET /get_report
Метод get_report используется для получения отчёта после того, как он будет сформирован на сервере.
GET /get_increment
Метод get_increment используется для получения данных за те даты, которые не вошли в основной отчёт. 
## Этап 2
На основе пайплайна из сквозной задачи спринта наполните витрину mart.f_customer_retention данными по «возвращаемости клиентов» в разрезе недель.
## Этап 3
Перезапустить пайплайн и убедиться, что после перезапуска не появилось дубликатов в витринах mart.f_sales и mart.f_customer_retention.
